# 📁 투자 포트폴리오 문서 업로드 가이드

## 1. 📂 폴더 구조

문서는 다음과 같은 폴더 구조로 업로드해주세요:

```
data/financial_docs/
├── 마인이스/
│   ├── 2023/
│   └── 2024/
├── 우나스텔라/
│   ├── 2023/
│   └── 2024/
└── 설로인/
    ├── 2023/
    └── 2024/
```

## 2. 📋 파일명 규칙

### 사업보고서 (연간)
- 형식: `{회사명}_{연도}_사업보고서.pdf`
- 예시: `마인이스_2024_사업보고서.pdf`

### 분기보고서
- 형식: `{회사명}_{연도}_Q{분기}_분기보고서.pdf`
- 예시: `우나스텔라_2024_Q1_분기보고서.pdf`

### 반기보고서
- 형식: `{회사명}_{연도}_Q2_반기보고서.pdf`
- 예시: `설로인_2024_Q2_반기보고서.pdf`

## 3. 📝 지원 문서 타입

- **사업보고서**: 연간 재무제표 및 사업 현황
- **분기보고서**: 1분기, 3분기 재무 현황
- **반기보고서**: 2분기(상반기) 재무 현황

## 4. ✅ 업로드 체크리스트

1. [ ] 회사명 폴더가 정확한지 확인
2. [ ] 연도 폴더가 정확한지 확인
3. [ ] 파일명이 규칙에 맞는지 확인
4. [ ] PDF 파일 형식인지 확인

## 5. 🚀 업로드 후 처리

### 데이터베이스 초기화 (최초 1회)
```bash
python scripts/init_database.py
```

### 문서 인덱싱
```bash
python scripts/index_documents.py
```

### 서버 실행
```bash
# 가상환경 활성화
source venv/bin/activate

# 백엔드 서버 실행
python test_server.py

# 또는 실제 FastAPI 서버
python -m uvicorn app.main:app --reload
```

## 6. 💡 참고사항

- 파일명에 특수문자는 언더스코어(_)와 하이픈(-)만 사용
- 한글 파일명 사용 가능
- 파일 크기는 100MB 이하 권장
- 스캔된 PDF보다 텍스트 추출 가능한 PDF 권장

## 7. 🆘 문제 해결

### 파일이 인식되지 않을 때
1. 파일명 규칙 확인
2. 폴더 위치 확인
3. 파일 권한 확인

### 인덱싱 오류 발생 시
1. PDF 파일이 손상되지 않았는지 확인
2. 파일 크기가 너무 크지 않은지 확인
3. 로그 파일 확인: `logs/indexing.log`